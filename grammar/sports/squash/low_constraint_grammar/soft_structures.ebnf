/*
    The top-level rule: a session can be any of the valid structures.
    This EBNF is for the 'balanced' grammar profile.
*/
session: drill_session | conditioned_game_session | mix_session

// --- NON-TERMINALS (Rules) ---

drill_session: drill_45_5 | drill_45_6 | drill_60_5 | drill_60_6
drill_45_5: WARMUP_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK
drill_45_6: WARMUP_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK
drill_60_5: WARMUP_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK
drill_60_6: WARMUP_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK

conditioned_game_session: cg_45_3 | cg_45_4 | cg_60_4 | cg_60_5
cg_45_3: WARMUP_BLOCK CG_BLOCK CG_BLOCK
cg_45_4: WARMUP_BLOCK CG_BLOCK CG_BLOCK CG_BLOCK
cg_60_4: WARMUP_BLOCK CG_BLOCK CG_BLOCK CG_BLOCK
cg_60_5: WARMUP_BLOCK CG_BLOCK CG_BLOCK CG_BLOCK CG_BLOCK

mix_session: mix_45_5 | mix_45_6 | mix_60_5 | mix_60_6
mix_45_5: WARMUP_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK
mix_45_6: WARMUP_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK
mix_60_5: WARMUP_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK
mix_60_6: WARMUP_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK ACTIVITY_BLOCK

// TERMINALS (The actual "words" the parser looks for) ---
// Note: Lark convention is that terminal names are in ALL_CAPS.

WARMUP_BLOCK: "WARMUP_BLOCK"
ACTIVITY_BLOCK: "ACTIVITY_BLOCK"
CG_BLOCK: "CG_BLOCK"

// This tells the parser to ignore whitespace between the terminals.
%import common.WS
%ignore WS