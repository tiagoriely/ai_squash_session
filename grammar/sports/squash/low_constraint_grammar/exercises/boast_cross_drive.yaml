# sports/squash/exercises/boast_cross_drive.yaml
id: boast_cross_drive
family: Boast-Cross-Drive
family_id: squash.family.pattern.diagonal.boast_cross_drive
category: diagonal
base_description: A three-shot sequence of boast, cross and drive to move the opponent diagonally.

# Defining parameters that can be applied to the variants of the exercise below
# This eliminates the need for separate forehand/backhand entries.
parameters:
  - name: shotSide
    description: The side of the court the exercise is focused on.
    options: [forehand, backhand]

# All variation of this exercise
variants:
  # Variant 1 – Deep Only
  - variant_id: deep_only
    name: Boast-Cross-Drive Deep Only
    description: A version where all shots excluding the boast must land behind the T-line.
    # METADATA: gives you information about the variant
    types: [drill, conditioned_game]
    difficulty_score: 6
    foundational_shots: ["2-wall boast", "3-wall boast",
                         "hard cross", "cross lob",
                         "deep drive", "hard drive", "straight drive",
                         "volley hard drive", "volley straight drive"]
    tactical_shots: []
    shots:
      general: [ "boast", "cross", "drive", "volley", "lob" ]
      specific: ["deep drive", "hard drive", "straight drive",
                 "volley drive", "volley deep drive", "volley hard drive", "volley straight drive",
                 "2-wall boast", "3-wall boast", "volley 2-wall boast",
                 "cross lob", "deep cross", "wide cross", "cross down the middle", "hard cross"]
    movement: ["diagonal", "front", "middle", "back"]
    roles:
      pattern: alternating # no fixed role
      exercises_per_side: 1 # Players do not need to change role before changing sides
    rules:
      # For the human coach and the RAG's semantic understanding
      constraint_text: "All shots excluding the boast must land behind the T-line."
    allowed_actions:
    # Relevant Actions
  - "drive"
  - "deep drive"
  - "hard drive"
  - "straight drive"
  - "volley drive"
  - "volley deep drive"
  - "volley hard drive"
  - "volley straight drive"
  - "boast"
  - "2-wall boast"
  - "3-wall boast"
  - "volley 2-wall boast"
  - "volley 3-wall boast"
  - "cross"
  - "cross lob"
  - "deep cross"
  - "wide cross"
  - "cross down the middle"
  - "hard cross"
  # --- Thematic Chaos ---
  - "drop"
  - "counter drop"
  - "cross drop"
  - "straight drop"
  - "volley drop"
  - "volley cross drop"
  - "volley straight drop"
  - "kill"
  - "cross kill"
  - "straight kill"
  - "volley cross kill"
  - "volley straight kill"
  - "cross-court nick"
  - "volley cross-court nick"
  - "trickle boast"
  - "reverse boast"
  - "volley reverse boast"

  # Variant 2 – Kills Allowed
  - variant_id: kills_allowed
    name: Boast-Cross-Drive With Kills Allowed
    description: >
      players follow the base pattern, but are also permitted to play kills (straight kills or cross kills). 
      Here the second bounce of deep shots must land behind the T-line.
    types: [ drill, conditioned_game ]
    difficulty_score: 6
    foundational_shots: ["2-wall boast", "3-wall boast",
                         "hard cross", "cross lob", "cross kill",
                         "deep drive", "hard drive", "straight drive",
                         "volley hard drive", "volley straight drive"]
    tactical_shots: []
    shots:
      general: [ "boast", "cross", "drive", "volley", "lob", "kill" ]
      specific: ["deep drive", "hard drive", "straight drive",
                 "volley drive", "volley deep drive", "volley hard drive", "volley straight drive",
                 "2-wall boast", "3-wall boast", "volley 2-wall boast",
                 "cross lob", "deep cross", "wide cross", "cross down the middle", "hard cross",
                 "straight kill", "volley straight kill", "cross kill"]
    movement: ["diagonal", "front", "middle", "back"]
    roles:
      pattern: alternating # no fixed role
      exercises_per_side: 1 # Players do not need to change role before changing sides
    rules:
      # IMPORTANT SECTION SOFT/HARD CONSTRAINT
      constraint_text: "For the cross-court and drive shots, the second bounce of the ball must land behind the T-line."
      # For the grammar-based generator's validation and enforcement (using PEG)
    allowed_actions:
      # Relevant Actions
      - "drive"
      - "deep drive"
      - "hard drive"
      - "straight drive"
      - "volley drive"
      - "volley deep drive"
      - "volley hard drive"
      - "volley straight drive"
      - "boast"
      - "2-wall boast"
      - "3-wall boast"
      - "volley 2-wall boast"
      - "volley 3-wall boast"
      - "cross"
      - "cross lob"
      - "deep cross"
      - "wide cross"
      - "cross down the middle"
      - "hard cross"
      - "straight kill"
      - "volley straight kill"
      - "cross kill"
      # --- Thematic Chaos ---
      - "drop"
      - "counter drop"
      - "cross drop"
      - "straight drop"
      - "volley drop"
      - "volley cross drop"
      - "volley straight drop"
      - "trickle boast"
      - "reverse boast"
      - "volley reverse boast"

  # Variant 3: Counter_Drop
  - variant_id: counter_drop
    name: Boast-Cross-Drive With Counter Drops
    description: >
      After a boast, players can engage in a counter-drop rally before hitting a cross to reset the main pattern.
    types: [drill, conditioned_game]
    difficulty_score: 7
    foundational_shots: [ "2-wall boast", "3-wall boast",
                          "hard cross", "cross lob",
                          "deep drive", "hard drive", "straight drive",
                          "volley hard drive", "volley straight drive" ]
    tactical_shots: ["counter drop", "straight drop" ]
    shots:
      general: [ "boast", "cross", "drive", "volley", "lob", "drop" ]
      specific: ["deep drive", "hard drive", "straight drive",
                 "volley drive", "volley deep drive", "volley hard drive", "volley straight drive",
                 "2-wall boast", "3-wall boast", "volley 2-wall boast",
                 "cross lob", "deep cross", "wide cross", "cross down the middle", "hard cross",
                 "counter drop", "straight drop" ]
    movement: [ "diagonal", "front", "middle", "back" ]
    roles:
      pattern: alternating # no fixed role
      exercises_per_side: 1 # Players do not need to change role before changing sides
    rules:
      constraint_text: "Cross & Drive: Every cross-court shot and the subsequent drive first bounces must land behind the T-line."
    allowed_actions:
      # Relevant Actions
      - "drive"
      - "deep drive"
      - "hard drive"
      - "straight drive"
      - "volley drive"
      - "volley deep drive"
      - "volley hard drive"
      - "volley straight drive"
      - "boast"
      - "2-wall boast"
      - "3-wall boast"
      - "volley 2-wall boast"
      - "volley 3-wall boast"
      - "cross"
      - "cross lob"
      - "deep cross"
      - "wide cross"
      - "cross down the middle"
      - "hard cross"
      - "drop"
      - "counter drop"
      - "straight drop"
      # --- Thematic Chaos ---
      - "kill"
      - "cross kill"
      - "straight kill"
      - "volley cross kill"
      - "volley straight kill"
      - "volley hard cross"
      - "volley cross-court nick"
      - "cross-court nick"

  # Variant 4 – Extra Drive
  - variant_id: extra_drive
    name: Boast-Cross-Drive With Extra Drive
    description: >
      The standard pattern, but one optional extra drive (after the first drive only) is allowed 
      by either player before the pattern resets.
    types: [drill, conditioned_game]
    difficulty_score: 6
    foundational_shots: [ "2-wall boast", "3-wall boast",
                          "hard cross", "cross lob",
                          "deep drive", "hard drive", "straight drive",
                          "volley hard drive", "volley straight drive" ]
    tactical_shots: ["deep drive", "hard drive", "straight drive"]

    shots:
      general: [ "boast", "cross", "drive", "volley", "lob" ]
      specific: [ "deep drive", "hard drive", "straight drive",
                  "volley drive", "volley deep drive", "volley hard drive", "volley straight drive",
                  "2-wall boast", "3-wall boast", "volley 2-wall boast",
                  "cross lob", "deep cross", "wide cross", "cross down the middle", "hard cross" ]
    movement: [ "diagonal", "front", "middle", "back" ]
    roles:
      pattern: alternating # no fixed role
      exercises_per_side: 1 # Players do not need to change role before changing sides
    rules:
      description: >
        Follow the sequence. One (and only one) additional drive is then allowed by either player. After that extra drive, the pattern restarts with a new boast.
      constraint_text:
        - "All cross-court shots and drives in the main sequence must have their first bounce land behind the T-line."
        - "The optional extra drive may be used a maximum of one time per rally."
    allowed_actions:
      # Relevant Actions
      - "drive"
      - "deep drive"
      - "hard drive"
      - "straight drive"
      - "volley"
      - "volley drive"
      - "volley deep drive"
      - "volley hard drive"
      - "volley straight drive"
      - "boast"
      - "2-wall boast"
      - "3-wall boast"
      - "volley 2-wall boast"
      - "volley 3-wall boast"
      - "cross"
      - "cross lob"
      - "deep cross"
      - "wide cross"
      - "cross down the middle"
      - "hard cross"
      # --- Thematic Chaos ---
      - "drop"
      - "counter drop"
      - "cross drop"
      - "straight drop"
      - "volley drop"
      - "volley cross drop"
      - "volley straight drop"
      - "kill"
      - "cross kill"
      - "straight kill"
      - "volley cross kill"
      - "volley straight kill"
      - "cross-court nick"
      - "volley cross-court nick"

  #  # Variant 5 – Open Drop
  #  - variant_id: open_drop
  #    name: Boast-Cross-Drive With Open Rally via Counter Drop
  #    description: >
  #      A counter-drop after the initial boast opens the rally up to any shot, turning
  #      it into a full court point.
  #    types: [conditioned_game]
  #    difficulty_score: 7
  #    foundational_shots: [ "2-wall boast", "3-wall boast",
  #                          "hard cross", "cross lob",
  #                          "deep drive", "hard drive", "straight drive",
  #                          "volley hard drive", "volley straight drive" ]
  #    tactical_shots: [ "counter drop", "straight drop" ]
  #    shots:
  #      general: [ "boast", "cross", "drive", "kill", "drop", "lob", "volley" ]
  #      specific: ["deep drive", "hard drive", "straight drive",
  #                 "volley drive", "volley deep drive", "volley hard drive", "volley straight drive",
  #                 "cross lob", "deep cross", "wide cross", "cross down the middle", "hard cross",
  #                 "cross-court nick", "volley cross-court nick",
  #                 "volley cross", "volley hard cross", "volley cross lob",
  #                 "counter drop", "cross drop", "straight drop",
  #                 "volley cross drop", "volley straight drop",
  #                 "2-wall boast", "3-wall boast", "trickle boast", "reverse boast",
  #                 "volley 2-wall boast", "volley 3-wall boast", "volley reverse boast",
  #                 "straight lob", "cross lob",
  #                 "volley straight lob", "volley cross lob",
  #                 "straight kill", "cross kill",
  #                 "volley cross kill", "volley straight kill"]
  #    movement: [ "diagonal", "front", "middle", "back", "sideways", "multi-directional" ]
  #    roles:
  #      pattern: alternating # no fixed role
  #      exercises_per_side: 1 # Players do not need to change role before changing sides
  #    rules:
  #      description: >
  #        Each rally begins with a boast. Players should alternate who initiates the rally.
  #        - Base path: follow boast → cross → drive.
  #        - Drop branch: If the boast is returned with a straight counter-drop, the rally becomes 'open' and
  #        is played out until a player wins the point. Any shot is legal during the open rally.
  #      # This sequence represents the grammar:
  #      # Rally -> Boast ( (Cross - Drive Restart) | (CounterDrop OpenRally) )
  #    allowed_actions: ["drive", "deep drive", "hard drive", "straight drive",
  #                      "volley drive", "volley deep drive", "volley hard drive", "volley straight drive",
  #                      "cross", "cross lob", "deep cross", "wide cross", "cross down the middle", "hard cross",
  #                      "cross-court nick", "volley cross-court nick",
  #                      "volley cross", "volley hard cross", "volley cross lob",
  #                      "drop", "counter drop", "cross drop", "straight drop",
  #                      "volley cross drop", "volley straight drop",
  #                      "boast", "2-wall boast", "3-wall boast", "trickle boast", "reverse boast",
  #                      "volley 2-wall boast", "volley 3-wall boast", "volley reverse boast",
  #                      "lob", "straight lob", "cross lob",
  #                      "volley", "volley straight lob", "volley cross lob",
  #                      "kill", "straight kill", "cross kill",
  #                      "volley cross kill", "volley straight kill"]

  # Variant 6 – Cross Lob & Volley Straight
  - variant_id: cross_lob_and_volley_straight
    name: Boast - Cross Lob - Volley Drive
    description: >
            A variation where the cross-court shot must be a lob, and the subsequent drive must be taken 
            as any type of volley straight drive.
    types: [drill, conditioned_game]
    difficulty_score: 7
    foundational_shots: [ "2-wall boast", "3-wall boast",
                          "cross lob",
                          "volley hard drive", "volley straight drive" ]
    tactical_shots: []
    shots:
      general: [ "boast", "cross", "drive", "drop", "lob", "volley" ]
      specific: ["volley drive", "volley deep drive", "volley hard drive", "volley straight drive",
                 "cross lob",
                 "2-wall boast", "3-wall boast",
                 "volley 2-wall boast"]
    movement: [ "diagonal", "front", "middle", "back" ]
    roles:
      pattern: alternating # no fixed role
      exercises_per_side: 1 # Players do not need to change role before changing sides
    rules:
      description: >
        Each rally begins with a boast. Players should alternate who initiates the rally.
        and follow the pattern boast → cross lob → volley drive.
      constraint_text: "All cross lob shots and volley drives must have their first bounce land behind the T-line."
    allowed_actions:
      # Relevant Actions
      - "volley drive"
      - "volley deep drive"
      - "volley hard drive"
      - "volley straight drive"
      - "cross lob"
      - "boast"
      - "2-wall boast"
      - "3-wall boast"
      - "volley 2-wall boast"
      - "volley 3-wall boast"
      # --- Thematic Chaos ---
      - "drop"
      - "counter drop"
      - "cross drop"
      - "straight drop"
      - "volley drop"
      - "volley cross drop"
      - "volley straight drop"
      - "trickle boast"
      - "reverse boast"
      - "volley reverse boast"
